<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ‡ãƒ¼ã‚¿æ§‹é€ å­¦ç¿’ - Stack & Queue</title>
  <link rel="stylesheet" href="algo.css">
</head>
<body>
  <header>
    <h1>ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å­¦ç¿’</h1>
  </header>

  <main>
    <!-- Stack ã‚«ãƒ¼ãƒ‰ -->
    <section class="card">
      <h2>Stackï¼ˆã‚¹ã‚¿ãƒƒã‚¯ï¼‰</h2>
      <p>Stack ã¯ã€Œå¾Œå…¥ã‚Œå…ˆå‡ºã— (Last In, First Out)ã€ã®æ§‹é€ ã§ã™ã€‚<br>ä¸Šã«ç©ã¿ã€ä¸Šã‹ã‚‰å–ã‚Šå‡ºã—ã¾ã™ã€‚</p>
<!-- â–¼ã“ã“ã‹ã‚‰ã‚¹ã‚¿ãƒƒã‚¯å¯è¦–åŒ–UIã‚’è¿½åŠ  â–¼ -->
<div class="controls">
  <input type="text" id="stackInput" placeholder="å€¤ (ä¾‹: 7)" />
  <button onclick="stackPush()">Push</button>
  <button onclick="stackPop()">Pop</button>
  <button onclick="stackPeek()">Peek</button>
</div>

<div class="stack-top-label">top â†‘</div>
<div id="stackBox" class="stack-box"></div>
<p id="stackStatus" class="status"></p>
<!-- â–²ã“ã“ã¾ã§ -->
</section>

    <!-- Queue ã‚«ãƒ¼ãƒ‰ -->
<section class="card">
      <h2>Queueï¼ˆã‚­ãƒ¥ãƒ¼ï¼‰</h2>
      <p>Queue ã¯ã€Œå…ˆå…¥ã‚Œå…ˆå‡ºã— (First-In First-Out)ã€ã®æ§‹é€ ã§ã™ã€‚<br>å…ˆé ­ã‹ã‚‰å–ã‚Šå‡ºã—ã€æœ«å°¾ã«è¿½åŠ ã—ã¾ã™ã€‚</p>

<div class="queue-controls">
  <input type="text" id="queueInput" placeholder="å€¤ (ä¾‹: A)" />
  <button onclick="enqueue()">Enqueue</button>
  <button onclick="dequeue()">Dequeue</button>
  <button onclick="front()">Front</button>
</div>

<div id="queueBox" class="queue-box"></div>
<p id="queueStatus" class="queue-status"></p>
</section>

<section class="card">
  <h2>Listï¼ˆãƒªã‚¹ãƒˆï¼‰</h2>
  <p>
    List ã¯ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦ã¹ãŸå½¢ã§ã™ã€‚é€”ä¸­ã«å…¥ã‚ŒãŸã‚Šã€æ¶ˆã—ãŸã‚ŠãŒ
    <b>ã‚„ã‚Šã‚„ã™ã„</b> æ§‹é€ ã§ã™ã€‚
  </p>

  <div class="list-controls">
    <input type="text" id="listValue" placeholder="å€¤ (ä¾‹: X)" />
    <input type="number" id="listIndex" placeholder="ä½ç½® (0ã€œ)" min="0" style="width:70px;" />
    <button onclick="listInsert()">Insert</button>
    <button onclick="listDelete()">Delete</button>
  </div>

  <div id="listBox" class="list-box"></div>
  <p id="listStatus" class="list-status"></p>
</section>
</main>

  <footer>
    <p>CopyrightÂ©Chibamode.JIN</p><br>
    <a href="algo_home.html">ğŸ’» ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ã‚‚ã©ã‚‹</a>
  </footer>

<script>
  const stack = [];

  function renderStack({ highlightTop = false } = {}) {
    const box = document.getElementById('stackBox');
    box.innerHTML = '';
    stack.forEach(v => {
      const el = document.createElement('div');
      el.className = 'stack-slot';
      el.textContent = v;
      box.appendChild(el);
    });

    if (highlightTop && box.firstElementChild) {
      box.firstElementChild.classList.add('active');
      setTimeout(() => box.firstElementChild &&
        box.firstElementChild.classList.remove('active'), 350);
    }

    document.getElementById('stackStatus').textContent =
      `size: ${stack.length}${stack.length ? ` | top: ${stack[stack.length-1]}` : ''}`;
  }

  function stackPush() {
    const input = document.getElementById('stackInput');
    const val = input.value.trim();
    if (!val) return;

    // â˜… ä¸Šé™ãƒã‚§ãƒƒã‚¯
    if (stack.length >= 5) {
      document.getElementById('stackStatus').textContent =
        `size: ${stack.length} (ä¸Šé™ã«é”ã—ã¾ã—ãŸï¼)`;
      return;
    }

    stack.push(val);
    input.value = '';
    input.focus();
    renderStack({ highlightTop: true });
  }

  function stackPop() {
    if (stack.length === 0) {
      document.getElementById('stackStatus').textContent = 'size: 0\n(ç©ºã§ã™)';
      return;
    }
    const box = document.getElementById('stackBox');
    const topEl = box.firstElementChild; // top ã¯å…ˆé ­
    if (topEl) {
      topEl.classList.add('pop');
      setTimeout(() => {
        stack.pop();
        renderStack();
      }, 320);
    }
  }

  function stackPeek() {
    if (stack.length === 0) {
      document.getElementById('stackStatus').textContent = 'size: 0\n(ç©ºã§ã™)';
      return;
    }
    renderStack({ highlightTop: true });
    document.getElementById('stackStatus').textContent =
      `size: ${stack.length} | top: ${stack[stack.length-1]} â† Peek`;
  }
  const queue = [];

  function renderQueue({ highlightFront = false } = {}) {
    const box = document.getElementById('queueBox');
    box.innerHTML = '';
    queue.forEach(v => {
      const el = document.createElement('div');
      el.className = 'queue-slot';
      el.textContent = v;
      box.appendChild(el);
    });

    if (highlightFront && box.firstElementChild) {
      box.firstElementChild.classList.add('active');
      setTimeout(() => box.firstElementChild &&
        box.firstElementChild.classList.remove('active'), 350);
    }

    document.getElementById('queueStatus').textContent =
      `size: ${queue.length}${queue.length ? ` | front: ${queue[0]}` : ''}`;
  }

  function enqueue() {
    const input = document.getElementById('queueInput');
    const val = input.value.trim();
    if (!val) return;

    if (queue.length >= 5) { // â˜… ä¸Šé™5å€‹
      document.getElementById('queueStatus').textContent =
        `size: ${queue.length} (ä¸Šé™ã«é”ã—ã¾ã—ãŸï¼)`;
      return;
    }

    queue.push(val);
    input.value = '';
    input.focus();
    renderQueue();
  }

  function dequeue() {
    if (queue.length === 0) {
      document.getElementById('queueStatus').textContent = 'size: 0\n(ç©ºã§ã™)';
      return;
    }
    const box = document.getElementById('queueBox');
    const frontEl = box.firstElementChild;
    if (frontEl) {
      frontEl.classList.add('dequeue');
      setTimeout(() => {
        queue.shift();
        renderQueue();
      }, 320);
    }
  }

  function front() {
    if (queue.length === 0) {
      document.getElementById('queueStatus').textContent = 'size: 0\n(ç©ºã§ã™)';
      return;
    }
    renderQueue({ highlightFront: true });
    document.getElementById('queueStatus').textContent =
      `size: ${queue.length} | front: ${queue[0]} â† Front`;
  }

  document.addEventListener('DOMContentLoaded', () => {
    const input = document.getElementById('queueInput');
    if (input) {
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') enqueue();
      });
    }
    renderQueue();
  });
 const list = [];

function renderList({ highlightIndex = null } = {}) {
  const box = document.getElementById('listBox');
  box.innerHTML = '';
  list.forEach((v, i) => {
    const el = document.createElement('div');
    el.className = 'list-slot';
    el.innerHTML = `
      <div class="value">${v}</div>
      <div class="index">${i}</div>
    `;
    if (highlightIndex === i) {
      el.classList.add('active');
      setTimeout(() => el.classList.remove('active'), 350);
    }
    box.appendChild(el);
  });

  document.getElementById('listStatus').textContent =
    `size: ${list.length}${list.length ? ` | elements: [${list.join(', ')}]` : ''}`;
}

  function listInsert() {
    const valInput = document.getElementById('listValue');
    const idxInput = document.getElementById('listIndex');
    const val = valInput.value.trim();
    let idx = parseInt(idxInput.value, 10);

    if (!val) return;
    if (isNaN(idx) || idx < 0 || idx > list.length) idx = list.length;

 if (list.length >= 5) { // ä¸Šé™ 5 å€‹
  document.getElementById('listStatus').textContent =
    `size: ${list.length} (ä¸Šé™ã«é”ã—ã¾ã—ãŸï¼)`;
  return;
}

    list.splice(idx, 0, val);
    valInput.value = '';
    idxInput.value = '';
    renderList({ highlightIndex: idx });
  }

  function listDelete() {
    const idxInput = document.getElementById('listIndex');
    let idx = parseInt(idxInput.value, 10);

    if (isNaN(idx) || idx < 0 || idx >= list.length) {
      document.getElementById('listStatus').textContent =
        `å‰Šé™¤ä½ç½® ${idxInput.value} ã¯ç„¡åŠ¹ã§ã™`;
      return;
    }

    const box = document.getElementById('listBox');
    const targetEl = box.children[idx];
    if (targetEl) {
      targetEl.classList.add('delete');
      setTimeout(() => {
        list.splice(idx, 1);
        renderList();
      }, 320);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const valInput = document.getElementById('listValue');
    const idxInput = document.getElementById('listIndex');
    if (valInput) {
      valInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') listInsert();
      });
    }
    if (idxInput) {
      idxInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') listDelete();
      });
    }
    renderList();
  });
</script>

</body>
</html>
