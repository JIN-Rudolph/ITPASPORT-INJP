<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å¤‰æ•°ã¨é…åˆ— | Variables & Arrays</title>
  <link rel="stylesheet" href="algo hesu.css">
</head>
<body>
  <header>
    <h1>ğŸ“— å¤‰æ•°ã¨é…åˆ— (Variables & Arrays)</h1>
  </header>

  <main>
   <section class="card">
  <h2>ğŸ“¦ å¤‰æ•° (Variable)</h2>
  <p>å¤‰æ•°ã¯ <b>1ã¤ã ã‘å€¤ã‚’å…¥ã‚Œã‚‰ã‚Œã‚‹å…¥ã‚Œç‰©</b> ã§ã™ã€‚</p>

  <input type="text" id="varInput" placeholder="ä¾‹: Taro">
  <button onclick="setVariable()">å…¥ã‚Œã‚‹</button>

  <div id="varBox" class="box">
    <span class="box-label">myVar</span>
    <div id="varContent">ï¼ˆç©ºã£ã½ï¼‰</div>
  </div>
</section>

<section class="card">
  <h2>ğŸ“š é…åˆ— (Array)</h2>
  <p>é…åˆ—ã¯ <b>åŒã˜ç¨®é¡ã®å…¥ã‚Œç‰©ãŒãªã‚‰ã‚“ã ã‚‚ã®</b> ã§ã™ã€‚</p>

  <input type="text" id="arrInput" placeholder="å€¤ã‚’å…¥åŠ›">
  <button onclick="pushArray()">è¿½åŠ ã™ã‚‹</button>
  <button onclick="popArray()">å‰Šé™¤ã™ã‚‹</button>

  <div id="arrayBox" class="array-box">
    <!-- å€¤ã®å…¥ã£ãŸç®±ãŒã“ã“ã«ä¸¦ã¶ -->
  </div>
</section>

    <footer>
    <p>CopyrightÂ©Chibamode.JIN</p><br>
    <a href="algo_home.html">ğŸ’» ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ã‚‚ã©ã‚‹</a>
    </footer>
  </main>
  <script>
  // å¤‰æ•°ç”¨
  let myVar;

  function setVariable() {
    myVar = document.getElementById("varInput").value;
    const content = document.getElementById("varContent");
    const box = document.getElementById("varBox");

    content.textContent = myVar || "ï¼ˆç©ºã£ã½ï¼‰";
    box.classList.add("filled");
  }

  // é…åˆ—ç”¨
  
let myArray = [];
const MAX_SIZE = 5; // ä¸Šé™ã‚’å›ºå®š

function pushArray() {
  const val = document.getElementById("arrInput").value;
  if (!val) return;

  if (myArray.length >= MAX_SIZE) {
    alert(`âš ï¸ é…åˆ—ã®ä¸Šé™ã¯ ${MAX_SIZE} ã§ã™`);
    return;
  }

  myArray.push(val);
  renderArray();
}
  function renderArray() {
    const arrayBox = document.getElementById("arrayBox");
    arrayBox.innerHTML = ""; // ä¸€æ—¦ã‚¯ãƒªã‚¢

    myArray.forEach((val, index) => {
      const slot = document.createElement("div");
      slot.className = "array-slot filled";
      slot.textContent = val;
      slot.setAttribute("data-index", index);

      // ã‚¯ãƒªãƒƒã‚¯ã§å‰Šé™¤
      slot.addEventListener("click", () => {
        myArray.splice(index, 1); // é…åˆ—ã‹ã‚‰å‰Šé™¤
        renderArray(); // å†æç”»
      });

      arrayBox.appendChild(slot);
    });
  }
  async function runVisual() {
    const blank1 = document.getElementById("blank1").value;
    const visual = document.getElementById("arrayVisual");
    const log = document.getElementById("visualLog");

    let a = [1, 2, 3];
    let total;

    try {
      total = eval(blank1); // åˆæœŸå€¤ (0 ãŒæ­£è§£)
    } catch {
      log.textContent = "âš ï¸ total ã®åˆæœŸå€¤ã‚’æ­£ã—ãå…¥åŠ›ã—ã¦ãã ã•ã„";
      return;
    }

    // é…åˆ—ã‚’è¡¨ç¤º
    visual.innerHTML = "";
    a.forEach(val => {
      const slot = document.createElement("div");
      slot.className = "array-slot";
      slot.textContent = val;
      visual.appendChild(slot);
    });

    const slots = document.querySelectorAll(".array-slot");
    log.textContent = `æœ€åˆã® total = ${total}`;

    // ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    for (let i = 0; i < a.length; i++) {
      await new Promise(r => setTimeout(r, 1000)); // 1ç§’å¾…ã¤
      slots.forEach(s => s.classList.remove("active"));
      slots[i].classList.add("active");

      const before = total;
      total = total + a[i];
      log.textContent += `\n i=${i} â†’ ${before}+${a[i]} = ${total}`;
    }

    await new Promise(r => setTimeout(r, 1000));
    if (total === 6) {
      log.textContent += `\n ğŸ‰ æ­£è§£ï¼ åˆè¨ˆã¯ ${total}`;
    } else {
      log.textContent += `\n ğŸ¤” çµæœã¯ ${total} ã§ã—ãŸã€‚`;
    }
  }

</script>



</body>
</html>
